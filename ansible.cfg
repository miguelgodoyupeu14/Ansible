[defaults]
# Configuración general
inventory = inventory/production/hosts.yml
host_key_checking = True
retry_files_enabled = False
gathering = implicit
fact_caching = memory
stdout_callback = yaml
callbacks_enabled = timer, profile_tasks

# Usuarios y conexión
remote_user = miguelgod
private_key_file = ~/.ssh/id_ed25519
timeout = 30

# Logging y debugging
# log_path = /var/log/ansible.log
display_skipped_hosts = False
display_ok_hosts = True

# Roles y collections
roles_path = roles
collections_path = ~/.ansible/collections:/usr/share/ansible/collections

# Vault - archivo central de secrets
# vault_password_file = .vault_password
# El archivo secrets.yml en la raíz contiene todas las contraseñas

[privilege_escalation]
become = False
become_method = sudo
become_user = root
become_ask_pass = False

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=60s
control_path_dir = /tmp/.ansible-cp
pipelining = True
scp_if_ssh = True